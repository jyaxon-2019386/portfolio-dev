---
const skills = [
  {
    name: "HTML",
    image: "/projects/html5.svg", 
    porcentage: 90,
  },
  {
    name: "CSS",
    image: "/projects/css.svg", 
    porcentage: 85,
  },
  {
    name: "JavaScript",
    image: "/projects/javascript.svg", 
    porcentage: 80,
  },
  {
    name: "React",
    image: "/projects/react.svg", 
    porcentage: 80,
  },
  {
    name: "Node.js",
    image: "/projects/nodejs.svg",
    porcentage: 85,
  },
  {
    name: "Java",
    image: "/projects/java.svg",
    porcentage: 85,
  },
  {
    name: "MySQL",
    image: "/projects/mysql.svg",
    porcentage: 80,
  },
  {
    name: "MongoDB",
    image: "/projects/mongodb.svg",
    porcentage: 85,
  },
  {
    name: "Express",
    imageLight: "/projects/Express.js_light.svg",
    imageDark: "/projects/Express.js_dark.svg",
    porcentage: 80,
  },
  {
    name: "TailwindCSS",
    image: "/projects/tailwindcss.svg",
    porcentage: 85,
  },
  {
    name: "Git",
    image: "/projects/git.svg",
    porcentage: 85,
  },
];
---

<style>
  .circular-progress {
    position: relative;
    width: 100px;
    height: 100px;
  }
  .circle-bg {
    fill: none;
    stroke: #e0e0e0;
    stroke-width: 10;
  }
  .circle {
    fill: none;
    stroke: #4caf50;
    stroke-width: 10;
    stroke-linecap: round;
    stroke-dasharray: 283;
    stroke-dashoffset: calc(283 - (283 * var(--porcentage)) / 100);
    transition: stroke-dashoffset 1s ease;
  }
</style>

  <div class="grid gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
    {skills.map((skill) => (
      <div class="flex flex-col items-center bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md">
        <div class="relative w-24 h-24" style={{ "--porcentage": skill.porcentage }}>
          <svg viewBox="0 0 100 100" class="w-full h-full">
            <circle class="circle-bg" cx="50" cy="50" r="45" fill="none" stroke-width="10"></circle>
            <circle class="circle" cx="50" cy="50" r="45" fill="none" stroke-width="10" stroke-linecap="round"
              stroke-dasharray="283"
              stroke-dashoffset={`calc(283 - (283 * ${skill.porcentage}) / 100)`}
              class="transition-[stroke-dashoffset] duration-1000 ease-in-out"></circle>
          </svg>
          <div class="absolute inset-0 flex items-center justify-center">
            {skill.image ? (
              <img src={skill.image} alt={skill.name} class="w-10 h-10" />
            ) : (
              <>
                <img src={skill.imageLight} alt={`${skill.name} light`} class="w-10 h-10 dark:hidden" />
                <img src={skill.imageDark} alt={`${skill.name} dark`} class="w-10 h-10 hidden dark:block" />
              </>
            )}
          </div>
        </div>
        <div class="mt-4 text-lg font-semibold text-gray-800 dark:text-gray-200">{skill.name}</div>
        <div class="mt-1 text-gray-600 dark:text-gray-400">{skill.porcentage}%</div>
      </div>
    ))}
  </div>
